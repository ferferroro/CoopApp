<div class="content mt-3">
    <input id="csrf_token" type="hidden" name="csrf_token" value="{{ csrf_token() }}" disabled="disabled" />

    <div class="animated fadeIn">
        <div class="row">

            <div class="col-md-12">
                <div class="card">
                    <div class="card-header">
                        <strong class="card-title">Borrower List</strong>
                        <button id="borrower-main-call-create" type="button" class="btn btn-primary btn-sm float-right">Create New</button>
                    </div>
                    
                    <div class="card-body">
                        {% with messages = get_flashed_messages(with_categories=true)%}
                            {% if messages %}
                                {% for category, message in messages %}
                                    <div class="animated fadeIn">
                                        <div id="flash-messages" class="sufee-alert alert with-close alert-{{ category }} alert-dismissible fade show">
                                            <i class="fa {{ 'fa-check-circle' if category == 'success' else 'fa-exclamation-circle' }} fa-lg"></i>
                                            {{ message | safe }}
                                            <button type="button" class="close" data-dismiss="alert" aria-label="Close">
                                                <span aria-hidden="true">Ã—</span>
                                            </button>
                                        </div>
                                    </div>
                                {% endfor %}
                            {% endif %}
                        {% endwith %}

                        <table id="bootstrap-data-table-export" class="table table-striped table-bordered table-sm">
                            <thead>
                                <tr>
                                    <th>First Name</th>
                                    <th>Last Name</th>
                                    <th>Address</th>
                                    <th>Joined</th>
                                    <th>Interest</th>
                                    <th></th>
                                </tr>
                            </thead>
                            <tbody>
                                {% for item in data %}
                                    <tr>
                                        <td>{{ item.first_name }}</td>
                                        <td>{{ item.last_name }}</td>
                                        <td>{{ item.address }}</td>
                                        <td>{{ item.date_joined.strftime('%Y-%m-%d') }}</td>
                                        <td>{{ item.interest_rate }}</td>
                                        <td> 
                                            <div class="fa-hover col-lg-3 col-md-6">
                                                <a href="javascript:;" onclick="javascript:UpdateBorrower('{{ item.uuid }}');"><i class="fa fa-pencil-square "></i>
                                                </a>
                                            </div>
                                        </td>
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>


        </div>
    </div><!-- .animated -->
</div><!-- .content -->


<script src="{{ url_for('static', filename='assets/js/init-scripts/data-table/datatables-init.js') }}"></script>
